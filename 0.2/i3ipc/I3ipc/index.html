<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>I3ipc (i3ipc.I3ipc)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">i3ipc</a> &#x00BB; I3ipc</nav><h1>Module <code>I3ipc</code></h1><p>A pure OCaml implementation of the i3 IPC protocol.</p><nav class="toc"><ul><li><a href="#connection-to-i3">Connection to i3</a></li><li><a href="#event-subscription">Event subscription</a></li><li><a href="#commands-and-queries">Commands and queries</a></li></ul></nav></header><dl><dt class="spec type" id="type-protocol_error"><a href="#type-protocol_error" class="anchor"></a><code><span class="keyword">type</span> protocol_error</code><code> = </code><table class="variant"><tr id="type-protocol_error.No_IPC_socket" class="anchored"><td class="def constructor"><a href="#type-protocol_error.No_IPC_socket" class="anchor"></a><code>| </code><code><span class="constructor">No_IPC_socket</span></code></td></tr><tr id="type-protocol_error.Bad_magic_string" class="anchored"><td class="def constructor"><a href="#type-protocol_error.Bad_magic_string" class="anchor"></a><code>| </code><code><span class="constructor">Bad_magic_string</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-protocol_error.Unexpected_eof" class="anchored"><td class="def constructor"><a href="#type-protocol_error.Unexpected_eof" class="anchor"></a><code>| </code><code><span class="constructor">Unexpected_eof</span></code></td></tr><tr id="type-protocol_error.Unknown_type" class="anchored"><td class="def constructor"><a href="#type-protocol_error.Unknown_type" class="anchor"></a><code>| </code><code><span class="constructor">Unknown_type</span> <span class="keyword">of</span> Stdint.Uint32.t</code></td></tr><tr id="type-protocol_error.Bad_reply" class="anchored"><td class="def constructor"><a href="#type-protocol_error.Bad_reply" class="anchor"></a><code>| </code><code><span class="constructor">Bad_reply</span> <span class="keyword">of</span> string</code></td></tr></table></dt><dd><p>The different errors that may be raised.</p></dd></dl><dl><dt class="spec exception" id="exception-Protocol_error"><a href="#exception-Protocol_error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Protocol_error</span> <span class="keyword">of</span> <a href="index.html#type-protocol_error">protocol_error</a></code></dt></dl><dl><dt class="spec module" id="module-Reply"><a href="#module-Reply" class="anchor"></a><code><span class="keyword">module</span> <a href="Reply/index.html">Reply</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Type definitions for the command replies.</p></dd></dl><dl><dt class="spec module" id="module-Event"><a href="#module-Event" class="anchor"></a><code><span class="keyword">module</span> <a href="Event/index.html">Event</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Type definitions for the events that can be subscribed to.</p></dd></dl><section><header><h3 id="connection-to-i3"><a href="#connection-to-i3" class="anchor"></a>Connection to i3</h3></header><dl><dt class="spec type" id="type-connection"><a href="#type-connection" class="anchor"></a><code><span class="keyword">type</span> connection</code></dt><dd><p>Type describing a connection to the i3 IPC endpoint.</p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : unit <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a> Lwt.t</code></dt><dd><p>Connect to a running i3 instance.</p></dd></dl><dl><dt class="spec value" id="val-disconnect"><a href="#val-disconnect" class="anchor"></a><code><span class="keyword">val</span> disconnect : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Close a <code>connection</code>.</p></dd></dl></section><section><header><h3 id="event-subscription"><a href="#event-subscription" class="anchor"></a>Event subscription</h3></header><dl><dt class="spec type" id="type-subscription"><a href="#type-subscription" class="anchor"></a><code><span class="keyword">type</span> subscription</code><code> = </code><table class="variant"><tr id="type-subscription.Workspace" class="anchored"><td class="def constructor"><a href="#type-subscription.Workspace" class="anchor"></a><code>| </code><code><span class="constructor">Workspace</span></code></td></tr><tr id="type-subscription.Output" class="anchored"><td class="def constructor"><a href="#type-subscription.Output" class="anchor"></a><code>| </code><code><span class="constructor">Output</span></code></td></tr><tr id="type-subscription.Mode" class="anchored"><td class="def constructor"><a href="#type-subscription.Mode" class="anchor"></a><code>| </code><code><span class="constructor">Mode</span></code></td></tr><tr id="type-subscription.Window" class="anchored"><td class="def constructor"><a href="#type-subscription.Window" class="anchor"></a><code>| </code><code><span class="constructor">Window</span></code></td></tr><tr id="type-subscription.BarConfig" class="anchored"><td class="def constructor"><a href="#type-subscription.BarConfig" class="anchor"></a><code>| </code><code><span class="constructor">BarConfig</span></code></td></tr><tr id="type-subscription.Binding" class="anchored"><td class="def constructor"><a href="#type-subscription.Binding" class="anchor"></a><code>| </code><code><span class="constructor">Binding</span></code></td></tr><tr id="type-subscription.Shutdown" class="anchored"><td class="def constructor"><a href="#type-subscription.Shutdown" class="anchor"></a><code>| </code><code><span class="constructor">Shutdown</span></code></td></tr><tr id="type-subscription.Tick" class="anchored"><td class="def constructor"><a href="#type-subscription.Tick" class="anchor"></a><code>| </code><code><span class="constructor">Tick</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-subscribe"><a href="#val-subscribe" class="anchor"></a><code><span class="keyword">val</span> subscribe : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="index.html#type-subscription">subscription</a> list <span>&#45;&gt;</span> <a href="Reply/index.html#type-command_outcome">Reply.command_outcome</a> Lwt.t</code></dt><dd><p>Subscribe to certain events.</p></dd></dl><dl><dt class="spec value" id="val-next_event"><a href="#val-next_event" class="anchor"></a><code><span class="keyword">val</span> next_event : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Event/index.html#type-t">Event.t</a> Lwt.t</code></dt><dd><p>Wait for the next event, among those subscribed to.</p></dd></dl></section><section><header><h3 id="commands-and-queries"><a href="#commands-and-queries" class="anchor"></a>Commands and queries</h3></header><dl><dt class="spec value" id="val-command"><a href="#val-command" class="anchor"></a><code><span class="keyword">val</span> command : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="Reply/index.html#type-command_outcome">Reply.command_outcome</a> list Lwt.t</code></dt><dd><p>Run an i3 command. See <a href="http://i3wm.org/docs/userguide.html#_list_of_commands">http://i3wm.org/docs/userguide.html#_list_of_commands</a> for a list of valid commands.</p></dd></dl><dl><dt class="spec value" id="val-get_workspaces"><a href="#val-get_workspaces" class="anchor"></a><code><span class="keyword">val</span> get_workspaces : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-workspace">Reply.workspace</a> list Lwt.t</code></dt><dd><p>Get the list of current workspaces.</p></dd></dl><dl><dt class="spec value" id="val-get_outputs"><a href="#val-get_outputs" class="anchor"></a><code><span class="keyword">val</span> get_outputs : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-output">Reply.output</a> list Lwt.t</code></dt><dd><p>Get the list of current outputs.</p></dd></dl><dl><dt class="spec value" id="val-get_tree"><a href="#val-get_tree" class="anchor"></a><code><span class="keyword">val</span> get_tree : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-node">Reply.node</a> Lwt.t</code></dt><dd><p>Get the layout tree. i3 uses a tree data-structure to represent the layout of windows in a workspace.</p></dd></dl><dl><dt class="spec value" id="val-get_marks"><a href="#val-get_marks" class="anchor"></a><code><span class="keyword">val</span> get_marks : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-mark">Reply.mark</a> list Lwt.t</code></dt><dd><p>Get a list of marks (identifiers of containers).</p></dd></dl><dl><dt class="spec value" id="val-get_bar_ids"><a href="#val-get_bar_ids" class="anchor"></a><code><span class="keyword">val</span> get_bar_ids : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-bar_id">Reply.bar_id</a> list Lwt.t</code></dt><dd><p>Get the list of IDs of all configured bars.</p></dd></dl><dl><dt class="spec value" id="val-get_bar_config"><a href="#val-get_bar_config" class="anchor"></a><code><span class="keyword">val</span> get_bar_config : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-bar_id">Reply.bar_id</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-bar_config">Reply.bar_config</a> Lwt.t</code></dt><dd><p>Get the configuration of the workspace bar with given ID.</p></dd></dl><dl><dt class="spec value" id="val-get_version"><a href="#val-get_version" class="anchor"></a><code><span class="keyword">val</span> get_version : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-version">Reply.version</a> Lwt.t</code></dt><dd><p>Get the version of i3.</p></dd></dl><dl><dt class="spec value" id="val-get_binding_modes"><a href="#val-get_binding_modes" class="anchor"></a><code><span class="keyword">val</span> get_binding_modes : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-binding_modes">Reply.binding_modes</a> Lwt.t</code></dt><dd><p>Get binding modes of i3.</p></dd></dl><dl><dt class="spec value" id="val-get_config"><a href="#val-get_config" class="anchor"></a><code><span class="keyword">val</span> get_config : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="Reply/index.html#type-config">Reply.config</a> Lwt.t</code></dt><dd><p>Get the config file as loaded by i3 most recently.</p></dd></dl><dl><dt class="spec value" id="val-send_tick"><a href="#val-send_tick" class="anchor"></a><code><span class="keyword">val</span> send_tick : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool Lwt.t</code></dt><dd><p>Sends a tick event with the specified payload.</p></dd></dl></section></div></body></html>